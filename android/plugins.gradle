def localPropertiesFile = new File(rootProject.projectDir, "local.properties")
def properties = new Properties()

if (localPropertiesFile.exists()) {
    localPropertiesFile.withInputStream { stream ->
        properties.load(stream)
    }
}

def flutterSdkPath = properties.getProperty("flutter.sdk")

if (flutterSdkPath == null) {
    flutterSdkPath = System.getenv("FLUTTER_ROOT")
}

if (flutterSdkPath == null) {
    throw new GradleException("Flutter SDK not found. Define flutter.sdk in local.properties.")
}

apply from: "${flutterSdkPath}/packages/flutter_tools/gradle/flutter.gradle"
